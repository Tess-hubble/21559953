---
title: "A deep dive into Colplay and Metallica"
documentclass: elsarticle
Thesis_FP: no
output:
  html_document:
    df_print: paged
  pdf_document:
    keep_tex: yes
    template: Tex/TexDefault.txt
    fig_width: 3.5
    fig_height: 3.5
Author1: Tessa Hubble
Ref1: Stellenbosch University, South Africa
Email1: 21559953\@sun.ac.za
BottomRFooter: \footnotesize Page \thepage
addtoprule: yes
addfootrule: yes
margin: 2.3
bottom: 2
top: 2.5
HardSet_layout: yes
linenumbers: no
bibliography: Tex/ref.bib
csl: "Tex/harvard-stellenbosch-university.csl"
RemovePreprintSubmittedTo: yes
Journal: Journal of Finance
toc: no
numbersections: yes
fontsize: 11pt
linestretch: 1.2
link-citations: yes
AddTitle: yes
abstract: |
  Visualising the progression of some of the most famous bands.
---

<!-- First: Set your default preferences for chunk options: -->

<!-- If you want a chunk's code to be printed, set echo = TRUE. message = FALSE stops R printing ugly package loading details in your final paper too. I also suggest setting warning = FALSE and checking for warnings in R, else you might find ugly warnings in your paper. -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.width = 6, fig.height = 5, fig.pos="H", fig.pos = 'H')
library(tidyverse)

Coldplay <- read_csv("C:\\Users\\tessa\\OneDrive\\Desktop\\Masters 2023\\Data science\\Exam\\21559953\\Question_3\\data\\Coldplay.csv")
metallica <- read_csv("C:\\Users\\tessa\\OneDrive\\Desktop\\Masters 2023\\Data science\\Exam\\21559953\\Question_3\\data\\metallica.csv")
spotify <- read_csv("C:\\Users\\tessa\\OneDrive\\Desktop\\Masters 2023\\Data science\\Exam\\21559953\\Question_3\\data\\Broader_Spotify_Info.csv")

```


<!-- ############################## -->
<!-- # Start Writing here: -->
<!-- ############################## -->

# Introduction \label{Introduction}

The two figures below breakdown Coldplay's and Metallica's albums by valence, energy and instrumentalness. In terms of Coldplay, we see that their album, X&Y had remarkably low instrumentalness compared to their other albums. This shows that that this particular album more vocals and fewer instrumental interludes. Coldplay covers a distribution of the full distribution of energy. Valence tends to remain below 0.4. This conveys that their songs tend to be fairly sad or  depressed. 


```{r Figure1,  warning =  FALSE, fig.align = 'center', fig.cap = "Caption Here \\label{Figure1}", fig.ext = 'png', fig.height = 7, fig.width = 8}

source("code/plots.R")
Coldplay <- Coldplay %>% mutate(band="Coldplay")
songs_coldplay <- df_transformation(Coldplay) 
coldplay_albums <- album_plotter(songs_coldplay, "Coldplay albums by valence, energy and instrumentallness")
coldplay_albums 

```

Figure 2 of Metallica's albums tells a different story. Metallica songs tend to be higher than 0.5 in terms of energy while cover the full distribution of valence. Energy builds in instances when musicians sing louder and/or when the drums pick up tempo. Metallica tends towards high energy songs but has evenly distributed positive and negative sounds. There also appears to be varying levels of instrumentalness within Metallica's repertoire. 

```{r Figure2, warning =  FALSE, fig.align = 'center', fig.cap = "Caption Here \\label{Figure2}", fig.height = 7, fig.width = 8, dev = 'png'}

source("code/plots.R")
metallica <- metallica %>% rename(duration=duration_ms)%>% rename(album_name=album) %>% 
    mutate(band="metallica")
songs_metallica <- df_transformation(metallica) %>% filter(grepl("Deluxe|72|Magnetic|Garage|Load|Lulu|Monster|Anger", album_name)) %>% 
    filter(!grepl("Deluxe / Remastered", album_name))
metallica_albums <- album_plotter(songs_metallica, "Metallica albums by valence, energy and instrumentalness")
metallica_albums

```


Figure 3 below compares Metallica and Coldplay along their songs' levels of danceability and tempo. 
## need to say more 

```{r Figure3, warning =  FALSE, fig.align = 'center', fig.cap = "Caption Here \\label{Figure3}", fig.height = 6, fig.width = 7, dev = 'png'}

source("code/plots.R")
coldplay_metallica <- direct_comparison(bands_plot)
coldplay_metallica  

     
```

Figure 4 below shows the average energy, valence and instrumentallness in the rock/alternative/indie genre. Metallica is more in line with the genre's high energy while Coldplay is closer to the genre's level of valence. Both Metallica and Coldplay appear to be above the genre's average instrumentalness. 

```{r Figure4, warning =  FALSE, fig.align = 'center', fig.cap = "Caption Here \\label{Figure4}", fig.height = 5, fig.width = 6, dev = 'png'}

source("code/plots.R")
genre_plot <- genre_comparison(genre_bar)
genre_plot

     
```


Figures 5 and 6 show the popularity of each of the albums of Coldplay and Metallica. It becomes clear from these figures that a larger proportion of Coldplay's album have higher popularity scores. 

```{r Figure5, warning =  FALSE, fig.align = 'center', fig.cap = "Caption Here \\label{Figure4}", fig.height = 3, fig.width = 6, dev = 'png'}

source("code/plots.R")
metallica_plot <- songs_metallica %>% 
    filter(!grepl("Garage,|Remastered Deluxe Box Set", album_name)) %>% 
    dplyr::select(name, album_name, popularity) %>% 
    group_by(album_name) %>% 
    summarise(mean = sum(popularity) / n(), se = sd(popularity) / sqrt(n()))

metallica_bests <- popular_album_plotter(metallica_plot, "Average popularity by Metallica album")
metallica_bests




```

```{r Figure6, warning =  FALSE, fig.align = 'center', fig.cap = "Caption Here \\label{Figure6}", fig.height = 5, fig.width = 6, dev = 'png'}

source("code/plots.R")
coldplay_plot <- songs_coldplay %>% 
    dplyr::select(name, album_name, popularity) %>% 
    group_by(album_name) %>% 
    summarise(mean = sum(popularity, na.rm=TRUE) / n(), 
              se = sd(popularity, na.rm=TRUE) / sqrt(n()))


coldplay_bests <- popular_album_plotter(coldplay_plot, "Average popularity by Coldplay album")
coldplay_bests

     
```
